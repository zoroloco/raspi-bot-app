{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/home/raspyService.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 134;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 134\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 178;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 178\n// module chunks = 0","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\nimport { RaspyService} from \"./raspyService\";\n\nenum Servo{\n  ELBOW = 0,\n  HEAD_PAN,\n  NA,//skip unused pin 2\n  HEAD_TILT,\n  SHOULDER,\n  BASE,\n  HAND,\n  WRIST\n}\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  step: number = 5;\n  headPanMin: number=0;\n  headPanMax: number=180;\n  headTiltMin: number=0;\n  headTiltMax: number=180;\n  armBaseMin: number=0;\n  armBaseMax: number=180;\n  armShoulderMin: number=0;\n  armShoulderMax: number=180;\n  armElbowMin: number=0;\n  armElbowMax: number=180;\n  armWristMin: number=0;\n  armWristMax: number=180;\n\n  headPan: number;\n  headTilt: number;\n  armElbow: number;\n  armShoulder: number;\n  armBase: number;\n  armWrist: number;\n  hand: number;\n\n  constructor(public navCtrl: NavController,public raspySvc: RaspyService) {\n\n  }\n\n  onHeadTilt(){\n    console.info('Head tilt position = '+this.headTilt);\n    this.sendCommand(Servo.HEAD_TILT,this.headTilt);\n  }\n\n  onHeadPan(){\n    console.info('Head pan position = '+this.headPan);\n    this.sendCommand(Servo.HEAD_PAN,this.headPan);\n  }\n\n  onArmElbow(){\n    console.info('Arm elbow position = '+this.armElbow);\n    this.sendCommand(Servo.ELBOW,this.armElbow);\n  }\n\n  onArmShoulder(){\n    console.info('Arm shoulder position = '+this.armShoulder);\n    this.sendCommand(Servo.SHOULDER,this.armShoulder);\n  }\n\n  onArmBase(){\n    console.info('Arm base position = '+this.armBase);\n    this.sendCommand(Servo.BASE,this.armBase);\n  }\n\n  onArmWrist(){\n    console.info('Arm wrist position = '+this.armWrist);\n    this.sendCommand(Servo.WRIST,this.armWrist);\n  }\n\n  onHand(){\n    console.info('Hand gripper position = '+this.hand);\n    this.sendCommand(Servo.HAND,this.hand);\n  }\n\n  sendCommand(servo:number,pos:number) {\n    let cmd = {\n      'servo': servo,\n      'pos': this.extrapolatePosition(pos)\n    };\n\n    this.raspySvc.postCommand(cmd).subscribe(\n      res=> {console.info('rx response from raspi-bot.')},\n      err=>{console.info('no word from raspi-bot.')});\n  }\n\n  //convert 0-180 degrees to 3000-9000 for servo positions.\n  extrapolatePosition(pos:number){\n    let nPos: number = 0;\n    let offset: number = 33.33333;\n\n    nPos = Math.round(3000+(offset*pos));\n    console.info(\"Extrapolated:\"+pos+\" -> \"+nPos);\n    return nPos;\n  }\n\n  onSleep(){\n    this.sendCommand(Servo.HEAD_TILT,180);//put head down\n\n    this.armBase = 85;\n    this.headPan = 75;\n    this.armShoulder = 0;\n    this.armElbow = 180;\n    this.armWrist = 180;\n    this.hand = 0;\n    this.headTilt = 0;\n\n    this.onArmBase();\n    this.onHeadPan();\n    this.onArmShoulder();\n    this.onArmElbow();\n    this.onArmWrist();\n    this.onHand();\n    this.onHeadTilt();\n  }\n\n    onWakeUp(){\n        this.sendCommand(Servo.HEAD_TILT,180);//put head down\n\n        this.armBase = 85;\n        this.headPan = 75;\n        this.armShoulder = 0;\n        this.armElbow = 180;\n        this.armWrist = 180;\n        this.hand = 0;\n        this.headTilt = 90;\n\n        this.onArmBase();\n        this.onHeadPan();\n        this.onArmShoulder();\n        this.onArmElbow();\n        this.onArmWrist();\n        this.onHand();\n        this.onHeadTilt();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import {Injectable} from '@angular/core';\nimport { HttpClient,HttpHeaders,HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\nimport {catchError,retry} from \"rxjs/operators\";\nimport {Command} from './command';\nimport {ErrorObservable} from \"rxjs/observable/ErrorObservable\";\n\n@Injectable()\nexport class RaspyService{\n  private url = 'http://raspi-bot:7482/move';\n\n  constructor(private http:HttpClient){}\n\n  postCommand(cmd:Command): Observable<any>{\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type':  'application/json'\n      })\n    };\n\n    return this.http.post<Command>(this.url,cmd,httpOptions).pipe(catchError(this.handleError));\n  }\n\n  handleError(error:HttpErrorResponse){\n    if(error.error instanceof ErrorEvent){\n      console.error('an error occurred:',error.error.message);\n    }\n    else {\n      console.error(\"backend returned code:\"+JSON.stringify(error.status));\n      console.error(\"error body:\"+JSON.stringify(error.error));\n    }\n    return new ErrorObservable('something bad happened. please try later!');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/raspyService.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\n\nimport { RaspyService} from \"../pages/home/raspyService\";\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    RaspyService,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}